@charset "utf-8";

:root{
    --elbow-connector-border-width:2px;
    --elbow-connector-border:var(--elbow-connector-border-width) solid red;

    --elbow-connector-point-diameter:10px;
    --elbow-connector-point-bg-color:red;
}
.elbow-connector-container{

}
.elbow-connector-container[data-postion="relative"]{

}
.elbow-connector-container[data-postion="absolute"]{

}
.elbow-connector-container[data-postion="fixed"]{

}
.elbow-connector{
    outline: 1px dotted #999;

    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    align-content: center;
    justify-content: center;
    align-items: stretch;

    position: relative;

    --before-border-width: 0 0 0 0;
    --after-border-width: 0 0 0 0;
    --before-flex-basis:50%
}
.elbow-connector[data-ec-direction="row"]{ flex-direction: row; }
.elbow-connector[data-ec-direction="column"]{ flex-direction: column; }

.elbow-connector::before,
.elbow-connector::after{
    content: 'x';
    display: block;
    flex:1 1 50%;
    border: var(--elbow-connector-border);
    overflow: hidden;
}
.elbow-connector::before{
    flex:1 0 var(--before-flex-basis);
    content: attr(data-ec-point-start);
    /* background-color: #aabbcc66; */
    border-width:var(--before-border-width);
}
.elbow-connector::after{
    flex:0 1 100%;
    content: attr(data-ec-point-end);
    /* background-color: #ccbbaa66; */
    border-width:var(--after-border-width);
}


/* line */
.elbow-connector[data-ec-direction="row"][data-ec-point-start="0"][data-ec-point-end="2"]::before,
.elbow-connector[data-ec-direction="row"][data-ec-point-start="2"][data-ec-point-end="0"]::before{
    --before-border-width:var(--elbow-connector-border-width) var(--elbow-connector-border-width) 0 0 ;
}
.elbow-connector[data-ec-direction="row"][data-ec-point-start="0"][data-ec-point-end="2"]::after,
.elbow-connector[data-ec-direction="row"][data-ec-point-start="2"][data-ec-point-end="0"]::after{
    --after-border-width:0 0 var(--elbow-connector-border-width) 0;
}

.elbow-connector[data-ec-direction="row"][data-ec-point-start="3"][data-ec-point-end="1"]::before,
.elbow-connector[data-ec-direction="row"][data-ec-point-start="1"][data-ec-point-end="3"]::before{
    --before-border-width:0 var(--elbow-connector-border-width) var(--elbow-connector-border-width) 0 ;
}
.elbow-connector[data-ec-direction="row"][data-ec-point-start="3"][data-ec-point-end="1"]::after,
.elbow-connector[data-ec-direction="row"][data-ec-point-start="1"][data-ec-point-end="3"]::after{
    --after-border-width:var(--elbow-connector-border-width) 0 0 0;
}

.elbow-connector[data-ec-direction="column"][data-ec-point-start="0"][data-ec-point-end="2"]::before,
.elbow-connector[data-ec-direction="column"][data-ec-point-start="2"][data-ec-point-end="0"]::before{
    --before-border-width:0 0 var(--elbow-connector-border-width) var(--elbow-connector-border-width);
}
.elbow-connector[data-ec-direction="column"][data-ec-point-start="0"][data-ec-point-end="2"]::after,
.elbow-connector[data-ec-direction="column"][data-ec-point-start="2"][data-ec-point-end="0"]::after{
    --after-border-width:0 var(--elbow-connector-border-width) 0 0;
}

.elbow-connector[data-ec-direction="column"][data-ec-point-start="3"][data-ec-point-end="1"]::before,
.elbow-connector[data-ec-direction="column"][data-ec-point-start="1"][data-ec-point-end="3"]::before{
    --before-border-width:0 var(--elbow-connector-border-width) var(--elbow-connector-border-width) 0 ;
}
.elbow-connector[data-ec-direction="column"][data-ec-point-start="3"][data-ec-point-end="1"]::after,
.elbow-connector[data-ec-direction="column"][data-ec-point-start="1"][data-ec-point-end="3"]::after{
    --after-border-width:0 0 0 var(--elbow-connector-border-width);
}




/* points */
.elbow-connector > .points{
    position: absolute;
    top:0;left:0;right:0;bottom:0;
    --points-gap:calc( var(--elbow-connector-point-diameter) / 2 );
    --points-gap2:calc( (var(--elbow-connector-point-diameter) - var(--elbow-connector-border-width)) / 2 );
}
.elbow-connector[data-ec-direction="row"] > .points{
    --tanslate-top:calc(-1 * var(--points-gap2));
    --tanslate-left:calc(-1 * var(--points-gap));
    --tanslate-bottom:var(--points-gap2);
    --tanslate-right:var(--points-gap);
}
.elbow-connector[data-ec-direction="column"] > .points{
    --tanslate-top:calc(-1 * var(--points-gap));
    --tanslate-left:calc(-1 * var(--points-gap2));
    --tanslate-bottom:var(--points-gap);
    --tanslate-right:var(--points-gap2);
}

.elbow-connector > .points::before,
.elbow-connector > .points::after{

    /* --elbow-connector-point-diameter:10px;
    --elbow-connector-point-bg-color:blue; */

    content: none;
    width:var(--elbow-connector-point-diameter);
    height:var(--elbow-connector-point-diameter);
    display: block;
    border-radius: 99999px;
    background-color: var(--elbow-connector-point-bg-color);

    position: absolute;
}

.elbow-connector[data-ec-point-start="0"] > .points::before ,
.elbow-connector[data-ec-point-end="0"] > .points::after{ content: ""; left:0;top:0; transform:translate(var(--tanslate-left) , var(--tanslate-top)); }
.elbow-connector[data-ec-point-start="1"] > .points::before ,
.elbow-connector[data-ec-point-end="1"] > .points::after   { content: ""; right:0;top:0; transform:translate(var(--tanslate-right) , var(--tanslate-top)); }

.elbow-connector[data-ec-point-start="2"] > .points::before ,
.elbow-connector[data-ec-point-end="2"] > .points::after   { content: ""; right:0;bottom:0; transform:translate(var(--tanslate-right), var(--tanslate-bottom)); }
.elbow-connector[data-ec-point-start="3"] > .points::before ,
.elbow-connector[data-ec-point-end="3"] > .points::after   { content: ""; left:0;bottom:0; transform:translate(var(--tanslate-left), var(--tanslate-bottom)); }